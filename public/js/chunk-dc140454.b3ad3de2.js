(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc140454"],{"0fd9":function(e,t,a){"use strict";a("4b85");var s=a("2b0e"),n=a("d9f7"),r=a("80d2");const i=["sm","md","lg","xl"],o=["start","end","center"];function l(e,t){return i.reduce((a,s)=>(a[e+Object(r["z"])(s)]=t(),a),{})}const c=e=>[...o,"baseline","stretch"].includes(e),u=l("align",()=>({type:String,default:null,validator:c})),d=e=>[...o,"space-between","space-around"].includes(e),f=l("justify",()=>({type:String,default:null,validator:d})),p=e=>[...o,"space-between","space-around","stretch"].includes(e),b=l("alignContent",()=>({type:String,default:null,validator:p})),v={align:Object.keys(u),justify:Object.keys(f),alignContent:Object.keys(b)},h={align:"align",justify:"justify",alignContent:"align-content"};function m(e,t,a){let s=h[e];if(null!=a){if(t){const a=t.replace(e,"");s+="-"+a}return s+="-"+a,s.toLowerCase()}}const g=new Map;t["a"]=s["a"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...f,alignContent:{type:String,default:null,validator:p},...b},render(e,{props:t,data:a,children:s}){let r="";for(const n in t)r+=String(t[n]);let i=g.get(r);if(!i){let e;for(e in i=[],v)v[e].forEach(a=>{const s=t[a],n=m(e,a,s);n&&i.push(n)});i.push({"no-gutters":t.noGutters,"row--dense":t.dense,["align-"+t.align]:t.align,["justify-"+t.justify]:t.justify,["align-content-"+t.alignContent]:t.alignContent}),g.set(r,i)}return e(t.tag,Object(n["a"])(a,{staticClass:"row",class:i}),s)}})},"1f4f":function(e,t,a){"use strict";a("8b37");var s=a("80d2"),n=a("7560"),r=a("58df");t["a"]=Object(r["a"])(n["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes(){return{"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom,...this.themeClasses}}},methods:{genWrapper(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"62ad":function(e,t,a){"use strict";a("4b85");var s=a("2b0e"),n=a("d9f7"),r=a("80d2");const i=["sm","md","lg","xl"],o=(()=>i.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),l=(()=>i.reduce((e,t)=>(e["offset"+Object(r["z"])(t)]={type:[String,Number],default:null},e),{}))(),c=(()=>i.reduce((e,t)=>(e["order"+Object(r["z"])(t)]={type:[String,Number],default:null},e),{}))(),u={col:Object.keys(o),offset:Object.keys(l),order:Object.keys(c)};function d(e,t,a){let s=e;if(null!=a&&!1!==a){if(t){const a=t.replace(e,"");s+="-"+a}return"col"!==e||""!==a&&!0!==a?(s+="-"+a,s.toLowerCase()):s.toLowerCase()}}const f=new Map;t["a"]=s["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...o,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:a,children:s,parent:r}){let i="";for(const n in t)i+=String(t[n]);let o=f.get(i);if(!o){let e;for(e in o=[],u)u[e].forEach(a=>{const s=t[a],n=d(e,a,s);n&&o.push(n)});const a=o.some(e=>e.startsWith("col-"));o.push({col:!a||!t.cols,["col-"+t.cols]:t.cols,["offset-"+t.offset]:t.offset,["order-"+t.order]:t.order,["align-self-"+t.alignSelf]:t.alignSelf}),f.set(i,o)}return e(t.tag,Object(n["a"])(a,{class:o}),s)}})},"8b37":function(e,t,a){},"8c15":function(e,t,a){"use strict";a("fb80")},afbe:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("v-subheader",{staticClass:"cabecera"},[a("b",{staticClass:"titulo"},[e._v("Paciente")]),a("v-spacer"),a("v-btn",{attrs:{small:"",rounded:"",color:"blue",dark:"",to:"/pacientes/agregar"}},[e._v(" Nuevo paciente ")])],1),a("v-divider"),a("v-container",{staticClass:"buscadores"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.input.nombre,callback:function(t){e.$set(e.input,"nombre",t)},expression:"input.nombre"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Raza"},model:{value:e.input.raza,callback:function(t){e.$set(e.input,"raza",t)},expression:"input.raza"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Especie"},model:{value:e.input.especie,callback:function(t){e.$set(e.input,"especie",t)},expression:"input.especie"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{hint:""+e.sexoSelect.value,items:e.sexos,"item-text":"text","item-value":"value",label:"Sexo","persistent-hint":"","return-object":"","single-line":""},model:{value:e.sexoSelect,callback:function(t){e.sexoSelect=t},expression:"sexoSelect"}})],1)],1)],1),a("div",{staticClass:"mb-5"},[a("v-btn",{attrs:{rounded:"",color:"blue",dark:""},on:{click:e.inicializarLista}},[e._v(" Buscar ")])],1),a("v-divider"),a("v-progress-linear",{attrs:{active:e.buscando,indeterminate:e.buscando,absolute:"",color:"blue"}}),a("v-simple-table",{staticClass:"mt-5",scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v(" Nombre Mascota ")]),a("th",{staticClass:"text-left"},[e._v(" Raza ")]),a("th",{staticClass:"text-left"},[e._v(" Especie ")]),a("th",{staticClass:"text-left"},[e._v(" Sexo ")]),a("th",{staticClass:"text-left"},[e._v(" Acciones ")])])]),a("tbody",e._l(e.lista,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.nombrePaciente))]),a("td",[e._v(e._s(t.raza))]),a("td",[e._v(e._s(t.especie))]),a("td",[e._v(e._s(t.sexo?"Macho":"Hembra"))]),a("td",[a("v-btn",{staticClass:"white--text",attrs:{to:"/pacientes/paciente/"+t.uid+"/cliente/"+t.uidCliente,small:"",rounded:"",color:"blue"}},[a("v-icon",{attrs:{left:"",color:"white"}},[e._v(" mdi-cat ")]),e._v(" Ver paciente ")],1)],1)])})),0)]},proxy:!0}])}),e.existeMasDatos?a("v-divider",{staticClass:"mt-5 mb-5"}):e._e(),e.existeMasDatos?a("div",{staticClass:"text-center mb-5"},[a("v-btn",{staticClass:"white--text",attrs:{rounded:"",color:"blue"},on:{click:e.paginar}},[a("v-icon",{attrs:{left:"",color:"white"}},[e._v(" mdi-plus ")]),e._v(" Mostrar más ")],1)],1):e._e()],1)},n=[],r=a("1da1"),i=(a("96cf"),a("4ee7")),o={name:"",props:{uidCliente:String},data:function(){return{input:{nombre:"",raza:"",especie:"",sexo:""},sexoSelect:{text:"Ninguno",value:""},sexos:[{text:"Ninguno",value:""},{text:"Hembra",value:"hembra"},{text:"Macho",value:"macho"}],MAXIMO:7,ultimoDocumento:null,existeMasDatos:!1,lista:[],buscando:!1}},watch:{sexoSelect:function(e,t){this.input.sexo=e.value}},methods:{inicializarLista:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],e.lista=[],e.ultimoDocumento=null,e.buscando=!0,s=i["b"].firestore().doc("Usuarios/".concat(e.$store.state.usuarios.usuario.uid)),n=i["a"].collectionGroup("Pacientes").orderBy(i["b"].firestore.FieldPath.documentId()).startAt(s.path).endAt(s.path+""),n=e.filtrar(n,e.input),n=n.limit(e.MAXIMO),t.next=10,n.get();case 10:for(r=t.sent,e.ultimoDocumento=r.docs[r.docs.length-1],o=0;o<r.docs.length;o++)l=r.docs[o],a.push(l.data());if(!a.length){t.next=17;break}return t.next=16,e.verificarSiHayMasDatos();case 16:e.lista=a;case 17:e.buscando=!1;case 18:case"end":return t.stop()}}),t)})))()},paginar:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.lista)),e.buscando=!0,s=i["b"].firestore().doc("Usuarios/".concat(e.$store.state.usuarios.usuario.uid)),n=i["a"].collectionGroup("Pacientes").orderBy(i["b"].firestore.FieldPath.documentId()).startAfter(e.ultimoDocumento).endAt(s.path+""),n=e.filtrar(n,e.input),n=n.limit(e.MAXIMO),t.next=8,n.get();case 8:for(r=t.sent,e.ultimoDocumento=r.docs[r.docs.length-1],o=0;o<r.docs.length;o++)l=r.docs[o],a.push(l.data());return t.next=13,e.verificarSiHayMasDatos();case 13:e.lista=a,e.buscando=!1;case 15:case"end":return t.stop()}}),t)})))()},filtrar:function(e,t){var a=this.input,s=a.nombre,n=a.raza,r=a.especie,i=a.sexo;return s&&(e=e.where("nombrePaciente","==",s)),n&&(e=e.where("raza","==",n)),r&&(e=e.where("especie","==",r)),i&&(e=e.where("sexo","==","macho"===i)),e},verificarSiHayMasDatos:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i["b"].firestore().doc("Usuarios/".concat(e.$store.state.usuarios.usuario.uid)),s=i["a"].collectionGroup("Pacientes").orderBy(i["b"].firestore.FieldPath.documentId()).startAfter(e.ultimoDocumento).endAt(a.path+""),s=e.filtrar(s,e.input),s=s.limit(1),t.next=6,s.get();case 6:n=t.sent,e.existeMasDatos=!n.empty;case 8:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.inicializarLista();case 2:case"end":return t.stop()}}),t)})))()}},l=o,c=(a("8c15"),a("2877")),u=a("6544"),d=a.n(u),f=a("8336"),p=a("62ad"),b=a("a523"),v=a("ce7e"),h=a("132d"),m=a("8e36"),g=a("0fd9"),x=a("b974"),w=a("1f4f"),y=a("2fa4"),S=a("e0c7"),C=a("8654"),_=Object(c["a"])(l,s,n,!1,null,null,null);t["default"]=_.exports;d()(_,{VBtn:f["a"],VCol:p["a"],VContainer:b["a"],VDivider:v["a"],VIcon:h["a"],VProgressLinear:m["a"],VRow:g["a"],VSelect:x["a"],VSimpleTable:w["a"],VSpacer:y["a"],VSubheader:S["a"],VTextField:C["a"]})},fb80:function(e,t,a){}}]);
//# sourceMappingURL=chunk-dc140454.b3ad3de2.js.map