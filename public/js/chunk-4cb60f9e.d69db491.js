(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cb60f9e"],{"0fd9":function(t,e,a){"use strict";a("4b85");var n=a("2b0e"),r=a("d9f7"),s=a("80d2");const i=["sm","md","lg","xl"],o=["start","end","center"];function l(t,e){return i.reduce((a,n)=>(a[t+Object(s["z"])(n)]=e(),a),{})}const c=t=>[...o,"baseline","stretch"].includes(t),u=l("align",()=>({type:String,default:null,validator:c})),d=t=>[...o,"space-between","space-around"].includes(t),f=l("justify",()=>({type:String,default:null,validator:d})),p=t=>[...o,"space-between","space-around","stretch"].includes(t),b=l("alignContent",()=>({type:String,default:null,validator:p})),v={align:Object.keys(u),justify:Object.keys(f),alignContent:Object.keys(b)},m={align:"align",justify:"justify",alignContent:"align-content"};function h(t,e,a){let n=m[t];if(null!=a){if(e){const a=e.replace(t,"");n+="-"+a}return n+="-"+a,n.toLowerCase()}}const g=new Map;e["a"]=n["a"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...f,alignContent:{type:String,default:null,validator:p},...b},render(t,{props:e,data:a,children:n}){let s="";for(const r in e)s+=String(e[r]);let i=g.get(s);if(!i){let t;for(t in i=[],v)v[t].forEach(a=>{const n=e[a],r=h(t,a,n);r&&i.push(r)});i.push({"no-gutters":e.noGutters,"row--dense":e.dense,["align-"+e.align]:e.align,["justify-"+e.justify]:e.justify,["align-content-"+e.alignContent]:e.alignContent}),g.set(s,i)}return t(e.tag,Object(r["a"])(a,{staticClass:"row",class:i}),n)}})},1808:function(t,e,a){},"1f4f":function(t,e,a){"use strict";a("8b37");var n=a("80d2"),r=a("7560"),s=a("58df");e["a"]=Object(s["a"])(r["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes(){return{"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom,...this.themeClasses}}},methods:{genWrapper(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(n["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"48f5":function(t,e,a){"use strict";a("1808")},"62ad":function(t,e,a){"use strict";a("4b85");var n=a("2b0e"),r=a("d9f7"),s=a("80d2");const i=["sm","md","lg","xl"],o=(()=>i.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),l=(()=>i.reduce((t,e)=>(t["offset"+Object(s["z"])(e)]={type:[String,Number],default:null},t),{}))(),c=(()=>i.reduce((t,e)=>(t["order"+Object(s["z"])(e)]={type:[String,Number],default:null},t),{}))(),u={col:Object.keys(o),offset:Object.keys(l),order:Object.keys(c)};function d(t,e,a){let n=t;if(null!=a&&!1!==a){if(e){const a=e.replace(t,"");n+="-"+a}return"col"!==t||""!==a&&!0!==a?(n+="-"+a,n.toLowerCase()):n.toLowerCase()}}const f=new Map;e["a"]=n["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...o,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:a,children:n,parent:s}){let i="";for(const r in e)i+=String(e[r]);let o=f.get(i);if(!o){let t;for(t in o=[],u)u[t].forEach(a=>{const n=e[a],r=d(t,a,n);r&&o.push(r)});const a=o.some(t=>t.startsWith("col-"));o.push({col:!a||!e.cols,["col-"+e.cols]:e.cols,["offset-"+e.offset]:e.offset,["order-"+e.order]:e.order,["align-self-"+e.alignSelf]:e.alignSelf}),f.set(i,o)}return t(e.tag,Object(r["a"])(a,{class:o}),n)}})},"8b37":function(t,e,a){},dd7c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("v-subheader",{staticClass:"cabecera"},[a("b",{staticClass:"titulo"},[t._v("Cliente")]),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{small:"",rounded:"",color:"blue",to:"/clientes/agregar"}},[t._v(" Nuevo cliente ")])],1),a("v-divider"),a("v-container",{staticClass:"buscadores"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.input.nombre,callback:function(e){t.$set(t.input,"nombre",e)},expression:"input.nombre"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Correo"},model:{value:t.input.correo,callback:function(e){t.$set(t.input,"correo",e)},expression:"input.correo"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Cédula de identidad"},model:{value:t.input.ci,callback:function(e){t.$set(t.input,"ci",e)},expression:"input.ci"}})],1)],1)],1),a("div",{staticClass:"mb-5"},[a("v-btn",{attrs:{rounded:"",color:"blue",dark:""},on:{click:t.inicializarLista}},[t._v(" Buscar ")])],1),a("v-divider"),a("v-progress-linear",{attrs:{active:t.buscando,indeterminate:t.buscando,absolute:"",color:"blue"}}),a("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(" CI ")]),a("th",{staticClass:"text-left"},[t._v(" Nombre ")]),a("th",{staticClass:"text-left"},[t._v(" Correo ")]),a("th",{staticClass:"text-left"},[t._v(" Teléfono ")]),a("th",{staticClass:"text-left"},[t._v(" Acciones ")])])]),a("tbody",t._l(t.clientes,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.ci))]),a("td",[t._v(t._s(e.nombre))]),a("td",[t._v(t._s(e.correo))]),a("td",[t._v(t._s(e.telefono))]),a("td",[a("v-btn",{staticClass:"white--text",attrs:{to:"/clientes/cliente/"+e.uid,small:"",rounded:"",color:"blue"}},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v(" mdi-account ")]),t._v(" Ver cliente ")],1)],1)])})),0)]},proxy:!0}])}),t.existeMasDatos?a("v-divider",{staticClass:"mt-5 mb-5"}):t._e(),t.existeMasDatos?a("div",{staticClass:"text-center mb-5"},[a("v-btn",{staticClass:"white--text",attrs:{rounded:"",color:"blue"},on:{click:t.paginar}},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v(" mdi-plus ")]),t._v(" Mostrar más ")],1)],1):t._e()],1)},r=[],s=a("1da1"),i=(a("96cf"),a("4ee7")),o={name:"ClienteIndex",data:function(){return{input:{nombre:"",correo:"",ci:""},MAXIMO_USUARIOS:7,ultimoDocumento:null,existeMasDatos:!1,clientes:[],buscando:!0}},methods:{inicializarLista:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.input,a.nombre,a.correo,a.ci,n=[],t.clientes=[],t.ultimoDocumento=null,t.buscando=!0,r=i["a"].collection("Usuarios").doc(t.$store.state.usuarios.usuario.uid).collection("Clientes"),r=t.filtrar(r,t.input),r=r.limit(t.MAXIMO_USUARIOS),e.next=10,r.get();case 10:for(s=e.sent,t.ultimoDocumento=s.docs[s.docs.length-1],o=0;o<s.docs.length;o++)l=s.docs[o],n.push(l.data());if(!n.length){e.next=17;break}return e.next=16,t.verificarSiHayMasDatos();case 16:t.clientes=n;case 17:t.buscando=!1;case 18:case"end":return e.stop()}}),e)})))()},paginar:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(t.clientes)),t.buscando=!0,n=i["a"].collection("Usuarios").doc(t.$store.state.usuarios.usuario.uid).collection("Clientes").startAfter(t.ultimoDocumento),n=t.filtrar(n,t.input),n=n.limit(t.MAXIMO_USUARIOS),e.next=7,n.get();case 7:for(r=e.sent,t.ultimoDocumento=r.docs[r.docs.length-1],s=0;s<r.docs.length;s++)o=r.docs[s],a.push(o.data());return e.next=12,t.verificarSiHayMasDatos();case 12:t.clientes=a,t.buscando=!1;case 14:case"end":return e.stop()}}),e)})))()},filtrar:function(t,e){var a=this.input,n=a.nombre,r=a.correo,s=a.ci;return n&&(t=t.where("nombre","==",n)),r&&(t=t.where("correo","==",r)),s&&(t=t.where("ci","==",parseInt(s))),t},verificarSiHayMasDatos:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=i["a"].collection("Usuarios").doc(t.$store.state.usuarios.usuario.uid).collection("Clientes").startAfter(t.ultimoDocumento),a=t.filtrar(a,t.input),a=a.limit(1),e.next=5,a.get();case 5:n=e.sent,t.existeMasDatos=!n.empty;case 7:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.inicializarLista();case 2:case"end":return e.stop()}}),e)})))()}},l=o,c=(a("48f5"),a("2877")),u=a("6544"),d=a.n(u),f=a("8336"),p=a("62ad"),b=a("a523"),v=a("ce7e"),m=a("132d"),h=a("8e36"),g=a("0fd9"),x=a("1f4f"),w=a("2fa4"),y=a("e0c7"),C=a("8654"),S=Object(c["a"])(l,n,r,!1,null,"12b7f532",null);e["default"]=S.exports;d()(S,{VBtn:f["a"],VCol:p["a"],VContainer:b["a"],VDivider:v["a"],VIcon:m["a"],VProgressLinear:h["a"],VRow:g["a"],VSimpleTable:x["a"],VSpacer:w["a"],VSubheader:y["a"],VTextField:C["a"]})}}]);
//# sourceMappingURL=chunk-4cb60f9e.d69db491.js.map